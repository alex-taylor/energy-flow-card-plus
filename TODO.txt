BUGS
----

The 'loading...' flag doesn't seem to be getting cleared reliably
  - possibly now fixed

Secondary value being mis-coloured, needs to take into account the relevant setting

Secondary value not using the entity's units
  - this is because they are not being passed in

Home, Individual are not yet including live deltas




FEATURES
--------

Bigger circles!
  - possibly dynamic if something can be figured out?

Display the flow rates as hover-overs on the lines
  Or over the circles?

See if it's possible to pick up the built-in energy config for the sensors?
  - this works with a new card with its default config, but as soon as you set and then remove an entity you lose it
  - if an entity is set, it overrides the built-in one, if present

Might need to support a vertical layout
  - either dynamic, based on available width and the number of Nodes to draw, or user-controlled
  - basically rotate right by 90

Perhaps support images?
  - eg have the Inverter shown in the middle?
  - what about the Battery?
    - might look odd
    - how to display the values?



GENERAL
-------

'Config'
  - title (string, optional)
  - display mode (enum, today, history, hybrid)
  - Appearance
  - Grid
  - Gas
  - Low-carbon
  - Solar
  - Battery
  - Home
  - devices (array of Device)

'Appearance'
  - dashboard link (string)
  - dashboard link name (string)
  - display zero lines (enum, show, hide, transparency, grey out, custom, defaults to show)
  - show dots (boolean, defaults to true)
  - clickable entities (boolean, defaults to true)
  - use hourly stats (boolean, defaults to true)
  - unit white space (boolean, defaults to true)
  - EnergyUnits
  - Flows

'EnergyUnits':
  - watt decimals (number, 0..5, defaults to 0)
  - kilowatt decimals (number, 0..5, defaults to 1)
  - megawatt decimals (number, 0..5, defaults to 1)
  - watt to kilowatt threshold (number, defaults to 1000)
  - kilowatt to megawatt threshold (number, defaults to 1000)

'Flows':
  - min flow rate (number, defaults to 1)       -- there's no real need to allow these to be set, they're the values from the built-in card; but they are also used by the new calculations
  - max flow rate (number, defaults to 6)
  - min expected energy (number, defaults to 10)    -- only used by the 'new flow' calculations
  - max expected energy (number, defaults to 2000)

'Node'
  - name (string, optional, overrides the built-in name for the Grid/Gas/Solar/Battery/Home/Low-carbon nodes or the entity's own name for the Devices)
  - icon (string, optional, overrides the built-in icon for the Grid/Gas/Solar/Battery/Home/Low-carbon nodes or the entity's own icon for the Devices)
  - SecondaryInfo

'UniNode':'Node'
  - entities (array of Entity)
  - colour (rgb, optional, overrides the built-in colour)
  - colour icon (boolean, defaults to false)
  - colour value (boolean, defaults to false)

'BiNode':'Node'
  - consumption (array of Entity)
  - production (array of Entity)
  - colour of consumption (rgb, optional, overrides the built-in colour)
  - colour of production (rgb, optional, overrides the built-in colour)
  - colour of icon (enum, none, dynamic, consumption, production, consumption sources, defaults to none)
  - colour of circle (enum, dynamic, consumption, production, consumption sources, defaults to dynamic)
  - colour values (boolean)

'Entity'
  - id (optional, overrides the HASS config for the Grid/Solar/Battery/Gas/Low-carbon nodes, for all others controls whether the node is shown)
  - units (optional, overrides the entity's own units)
  - display zero threshold (optional, defaults to 0)
  - decimals (optional, defaults to no value)

'Home':'Node'
  - colour of icon (enum, none, dynamic, solar, grid, battery, defaults to none)
  - colour of value (enum, none, dynamic, solar, grid, battery, defaults to none)

'Grid':'BiNode'
  - PowerOutage

'Solar':'UniNode'

'Battery':'BiNode'
  - state of charge (Entity)
    - if set, this provides a dynamic icon plus value
    - the value would need to be displayed next to the icon, to allow for secondary info above it
  - SoC colour value (boolean, it will follow 'colour of circle' when true, defaults to false)

'Gas':'UniNode'
  - sum (boolean, defaults to false)

'Device':'UniNode'
  - type (enum, consumption, production, defaults to consumption)
  - sum (boolean, defaults to false)

'Low-Carbon':'UniNode'
  - display (enum, energy, percentage, defaults to energy)

'PowerOutage'
  - entity (Entity)
  - label for alert (string)
  - icon for alert (icon)
  - state of alert (string)

'SecondaryInfo'
  - entity (Entity)
  - template (string)
    - is this worth it?
    - how to implement?
  - icon (string, optional)
  - colour value (boolean, for a BiNode it will follow 'colour of circle' when true, defaults to false)









README and CHANGELOG updates

Test localisation by disabling EN and checking that all strings revert to their keys
