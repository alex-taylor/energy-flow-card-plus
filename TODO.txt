BUGS
----

Entity-validation:
  - in the UI, flag up when:
    - a non-existent entity is specified
    - a non-energy primary entity is specified
    - a non-stats-compatible entity is specified
    - populate the 'error' object with the details

  - icon:
    - green: all entities are valid
    - yellow: at least one primary entity is valid and at least one other (primary/secondary) entity is invalid
    - red: all primary entities are invalid
    - nothing: no primary entities are defined at all

  - in the States object
    - filter out the invalid entities when building the arrays
    - also need to filter them out when doing the 'isPresent' flags


Units:
  - move the whitespace flag to UnitsMode
  - problem: this would prevent it from being set for both Home and Low-carbon

Decimals:
  - add flag to 'always show dps' (per-entity)
  - make the energy decimals optional, and implement the HASS algorithm for when they are not set: 2dp if <10; 1dp if <100; 0dp otherwise
  - rename to 'display precision'

Low-carbon:
  - need to force the units
  - probably just need to pass the 'deviceClass' in, with some suitable value for the %
  - lock decimals to 1dp for percentage



Intermittent problem where the stats are received multiple times
  - may be related to a browser page reload after switching between tabs?

The 'multi entity' picker is sizing itself to the full width of its entity's name, should be constrained
  - HASS bug

Reinstate the -ve coords for the lines, they are required so that the dots don't just vanish!
  - and presumably they should extend at both ends?

Home value still getting the wrong colour - usually 'low-carbon'
  - the circle gets it wrong at midnight, too

The 'loading...' flag doesn't seem to be getting cleared reliably
  - possibly now fixed
  - should, however, display the circles but with 'Unknown' for their values

Secondary value being mis-coloured, needs to take into account the relevant setting

Power-outage is calculating its state up-front, rather than live as-needed (see GridState)





FEATURES
--------

If data is still loading when we render, go ahead and render the circles/lines anyway, just put 'loading' for the values

Bigger circles!
  - possibly dynamic if something can be figured out?

Display the flow rates as hover-overs on the lines
  Or over the circles?

Might need to support a vertical layout
  - either dynamic, based on available width and the number of Nodes to draw, or user-controlled
  - basically rotate right by 90

Perhaps support images?
  - eg have the Inverter shown in the middle?
  - what about the Battery?
    - might look odd
    - how to display the values?



GENERAL
-------

README and CHANGELOG updates

Test localisation by disabling EN and EN-GB and checking that all strings revert to their keys
